
## 1. 概要

### 1.1 アプリの目的

- **コミュニケーション能力向上（職場/雑談）**
  - 「職場のあなた再現シート」等を活用し、職場コミュニケーションや自己肯定感を高めるロールプレイ機能を提供
  - 一般的な雑談練習や、AI同士の雑談観戦を通じ、幅広いユーザーの会話力をサポート

- **自己理解・自己肯定感の促進**
  - シミュレーションや雑談、AIからのポジティブフィードバックによって自分の強みや言動パターンを客観視し、セルフコンパッションにつなげる

- **学習・継続支援**
  - カウンセリング・セミナーとの連動や、対話ログの振り返り機能により、継続的かつ実践的な学びをサポート

### 1.2 ターゲットユーザ

- **年齢層**: 15～49歳を主な対象（就労支援プログラムの若年層から、職場人間関係に悩む中堅層まで想定）
- **特性**:
  - 元ひきこもり/いじめ被経験などで対人関係が苦手な方
  - 自己肯定感が低く、職場復帰・就職・転職、あるいは雑談スキルを磨きたい方
  - コミュニケーション全般に苦手意識を持つ方
- **利用シーン**:
  - 就労支援プログラムやカウンセリング、セミナー
  - 個人での自己学習・職場コミュニケーション練習
  - AIとの雑談を楽しみたい一般ユーザー、研究者（AI同士の会話観察）など

### 1.3 運用形態

- Webアプリまたはデスクトップアプリ（Electron等）
- **LLMの利用形態**:
  - ローカルLLM（ollama/LM Studioなど）
  - クラウドLLM（OpenAI, Azureなど）
  - ユーザー環境・要件に応じて切り替えられる「ハイブリッド」構成を想定

## 2. 機能概要

### 2.1 ロールプレイ（職場コミュニケーション）モード

1. **場面・シナリオ入力**
   - 「職場のあなた再現シート」ベースで、よくある職場コミュニケーション場面（上司への意見、断りづらい依頼、同僚とのトラブル等）を入力
   - アプリ内で複数の職場シナリオをプリセットし、ユーザー自身がカスタマイズ可能

2. **LLM対話シミュレーション**
   - 入力した場面に応じて、AIが「相手役」を演じるチャットを開始
   - ユーザーが発話するたびに、AIが上司/同僚/取引先などのロールで応答

3. **フィードバック・長所発見**
   - AIがユーザーの対応案をいくつか提案し、「こういう言い回しもできる」「あなたの強みは○○」など、ポジティブな視点でアドバイス
   - シミュレーションの最後に、まとめコメントや長所のフィードバックを表示

4. **ジャーナル・振り返り**
   - 各シミュレーション終了後、ユーザーが学んだことや感じたことをメモ
   - AIがまとめ・要約してくれるので、復習・自己分析に役立てられる

5. **セミナー連動・グループワーク用モード**（将来的な拡張）
   - 研修やカウンセリング等で複数人が同じ場面を共有し、AIからのフィードバックを全員で確認できる仕組み

### 2.2 雑談練習・会話観戦モード

1. **雑談練習**（ユーザー×AI 1対1）
   - テキストチャットでカジュアルな話題から深めの話題まで、自由に雑談
   - オプションで、AIから簡易フィードバック（「話題を膨らませるコツ」「相槌の打ち方」など）を取得できる

2. **会話観戦**
   - 2体のAIがテーマやキーワードに沿って自動的に雑談する様子を、ユーザーが"観戦"できる機能
   - ユーザーは「会話の膨らませ方」や「話題の転換」などを学習・楽しめる

3. **ユーザー介入**（3者会話）
   - 観戦中に「参加する」ボタンを押すと、ユーザーが発言を入力できるようになり、AI同士の会話に割り込む形で三者トークへ移行
   - ディベート風に「AI Aとユーザー vs AI B」などのロール設定も可能（将来的に拡張）

4. **テーマプリセット**
   - 「休日の過ごし方」「最近のニュース」「好きな食べ物」等、あらかじめ用意された話題を選ぶだけで観戦/雑談を開始できる
   - ユーザーがオリジナルテーマを登録する機能も検討

## 3. 機能要件一覧

### 3.1 共通機能

| 機能名 | 概要 | 優先度 |
|-------|------|-------|
| ユーザ登録・ログイン | ユーザごとにセッションや学習履歴を保持するための認証 | 高 |
| モデル切り替え（ローカル/クラウド） | ローカルLLM(ollama等)／クラウドLLM(OpenAI等)を、設定画面で切り替え可能 | 中 |
| 会話メモリ管理 | ユーザ単位で会話の履歴を保存し、連続的な文脈を保つ機能 | 高 |
| チャットログ保存・振り返り | ログ（ユーザー発話、AI発話）をセッション単位で保存し、後から閲覧・復習できる | 高 |
| UIカスタマイズ | ダークモード、フォントサイズなど見た目の調整 | 中 |
| セキュリティ(HTTPS等) | HTTPSやDB暗号化などにより、会話内容やユーザー情報を保護 | 高 |

### 3.2 ロールプレイモード（職場コミュニケーション）

| 機能名 | 概要 | 優先度 |
|-------|------|-------|
| 場面・シナリオ入力 | 「職場のあなた再現シート」ベースで、シーン情報を入力しやすいUIを提供 | 高 |
| LLM対話シミュレーション | 職場設定を踏まえてAIが相手役を演じ、ユーザーとやり取り | 高 |
| リアルタイムフィードバック | 複数案の回答やアドバイスを提示、「断り方の例」「共感の言い回し」などをAIが即時提案 | 高 |
| 長所・ポジティブフィードバック | 対話を振り返りながらユーザーの強みを肯定的に提示 | 中 |
| ジャーナル・振り返り | シミュレーション後にユーザーが学びや感想を記録し、AIがまとめや振り返り支援 | 高 |
| セミナー連動(グループモード) | 複数ユーザーの画面共有など、研修向けに拡張 | 中 |

### 3.3 雑談練習・観戦モード

| 機能名 | 概要 | 優先度 |
|-------|------|-------|
| 雑談練習(ユーザー×AI) | テキストベースで自由に雑談できるチャット。オプションで簡易フィードバック付き | 高 |
| 会話観戦 | 2体のAIがテーマをもとに交互にトークする様子をUIで表示 | 高 |
| ユーザー介入(3者会話) | 観戦モード中に参加ボタンを押すとユーザーが発言を挟み、AI同士の会話に割り込む | 中 |
| テーマプリセット | あらかじめ用意したトピックを選ぶだけで雑談/観戦を開始 | 中 |
| 会話停止・まとめ表示 | 観戦/練習終了時、AIが要約を生成して会話の内容を振り返りやすくする | 中 |
| エクスポート機能 | 会話ログや要約をテキスト/Markdown/PDFで出力可能 | 低～中 |

## 4. 非機能要件

### 4.1 セキュリティ・プライバシー保護

- 会話内容にセンシティブ情報が含まれる可能性が高い。暗号化通信（HTTPS）、DB暗号化、アクセス制御を実装
- クラウドLLM利用時は「会話内容が外部に送信される」ことを明示し、同意を得る

### 4.2 可用性・拡張性

- 同時アクセスやユーザー増加に備え、バックエンドがスケーラブルなアーキテクチャを採用
- ローカルLLMを活用する場合は、端末スペックに合わせた設定変更（モデル圧縮、推論モードなど）

### 4.3 パフォーマンス

- 1～3秒程度の応答が理想。ローカルLLMの場合、ユーザーのマシンスペックに依存しうる
- APIコール数やトークン消費量が増えすぎないよう、ターン数制限やリトライ制御を検討

### 4.4 UI/UXの簡易性

- コミュニケーションが苦手なユーザーでも直感的に操作しやすいシンプルなデザイン
- 観戦モードとロールプレイモードの違いが明確になるナビゲーションやチュートリアルを用意

### 4.5 運用・保守

- 対話履歴の管理、モデルのバージョンアップ、APIキーの管理などを行いやすい仕組み
- ユーザーからの問い合わせ対応、改善要望を取り入れながら継続的に機能拡張

## 5. システム構成（例）

```
flowchart TD
    A[フロントエンド<br>(Electron / Web)] --> B[バックエンド<br>(Node.js / Flask / FastAPI)]
    B --> C[ローカルLLM<br>(ollama / LM Studio)]
    B --> D[クラウドLLM<br>(OpenAI / Azure等)]
    B --> E[DB<br>(SQLite / JSON)]
```

- **フロントエンド**:
  - デスクトップ版(Electron)あるいはWebアプリ
  - ユーザーとの対話UI/観戦UI/ロールプレイ入力画面を提供

- **バックエンド**:
  - Python(Flask/FastAPI + LangChain) もしくは Node.jsでLLM呼び出し制御
  - 複数LLMの切り替え、会話メモリ管理、APIキー・モデルファイル設定

- **LLMレイヤ**:
  - ローカルLLM(ollama等)とクラウドLLM(OpenAI等)を使い分け
  - AI同士の交互会話制御（A→B→A…）やユーザー介入ロジックを実装

- **データベース**:
  - ユーザー管理、会話ログ、シナリオプリセット等をSQLiteやJSONファイルで保存

## 6. 開発・運用フロー

### 6.1 プロトタイプ作成

- 最初は最小限のチャット機能（ユーザー×AI）と、AI同士の会話観戦モードを実装して動作確認（PoC）
- UIは簡易的なもので、モデル切り替えや会話ログ保存を実験的に行う

### 6.2 要件洗い出し・フィードバック取得

- ユーザーテストを行い、操作性やフィードバック内容、機能不足点を分析
- 「職場シナリオに特化したロールプレイにどんな場面が欲しいか」「雑談観戦をどの程度のターン数で見たいか」などを調査

### 6.3 本格機能実装

- 認証/セッション管理やロールプレイ用シナリオ入力画面、ユーザー介入機能などを充実
- UI/UXを洗練し、ElectronやReact/Vue等のフレームワークで拡張性を高める

### 6.4 テスト・チューニング

- ローカルLLMとクラウドLLMの両方でパフォーマンス・応答精度を検証
- セキュリティテスト、負荷テスト、UI/UXテストを実施し、安定性を確保

### 6.5 本番リリース・運用

- 運用開始後は、ユーザーの利用状況をモニタリングし、対話内容やモデルの更新を適宜行う
- APIコスト管理（クラウドLLM時）や、ローカルモデルのバージョンアップを随時実施

## 7. リスクと対策

### 7.1 LLMの不適切発言や暴走リスク

- AI同士の会話やユーザーとの対話が脱線して不適切内容に至る可能性あり
- **対策**: コンテンツフィルタ、モデレーションAPI、発言ブロック機能の検討

### 7.2 APIコストの増大（クラウドLLM利用時）

- 観戦モード（AI同士で長文応答）によるトークン消費
- **対策**: ターン数上限・警告表示、ユーザー課金モデルの検討

### 7.3 ユーザーの混乱（複数モードの使い分け）

- ロールプレイと雑談観戦が混同される恐れ
- **対策**: 明確なUIナビゲーション、チュートリアル、モード解説を充実

### 7.4 ローカルLLMのパフォーマンス問題

- ユーザーPCのスペックに依存し、動作が重い場合がある
- **対策**: モデル圧縮版や量子化モデルの利用、もしくはクラウドLLMへの切り替え案内

### 7.5 プライバシー・機密情報の取り扱い

- 職場コミュニケーションの中でリアルな個人名や社名が入力される可能性
- **対策**: ログの暗号化、ユーザー自身が削除できる機能、利用規約の明示

## 8. 今後の拡張アイデア

### 8.1 音声入力・音声対話

- 音声認識と音声合成(TTS)を組み合わせ、より自然な対話体験を提供

### 8.2 表情・感情分析

- カメラやマイクの情報からユーザーの感情を推定し、AI応答に反映（ストレス度合い把握など）

### 8.3 オンラインコミュニティ連携

- ユーザー同士で成功事例を共有したり、専門家からアドバイスをもらう場を提供

### 8.4 ゲーミフィケーション

- 雑談力ポイント、バッジ、ミニクイズなどを盛り込み、飽きずにトレーニングを続けられる仕組み

### 8.5 グループ会話モード

- ユーザー複数人＋AI数体で同時会話する機能（セミナーや研修用途を想定）

## 9. まとめ

本ドキュメントは、
- (1) 「職場コミュニケーション向上・自己肯定感アップ」のためのロールプレイ機能
- (2) 「雑談練習・会話観戦モードによる会話学習」のための雑談観戦機能

を一体化した、総合的な「コミュニケーション支援アプリ」の要件定義書です。

### 想定価値

1. **自己理解・自己肯定感の促進**
   - 「職場のあなた再現シート」を元に、自分の行動・強みを再確認しやすい

2. **会話スキルの実践的トレーニング**
   - AIが相手役をしてくれるロールプレイだけでなく、雑談観戦＋参加で多角的にスキルアップ

3. **柔軟な運用形態**
   - ローカルLLMでオフライン運用 or クラウドLLMで高精度応答などユーザー環境に応じた切り替え

### 成功の鍵

- 簡潔でわかりやすいUI/UX設計
- LLM同士の連続会話制御の安定化（無限ループ・脱線防止）
- 適度なフィルタリングやモデレーション機能
- 拡張性の高いシステムアーキテクチャ

### 今後の展望

- MVP段階でも**「ユーザー×AIの雑談」と「AI同士の観戦＋ロールプレイ」**が使えるだけで十分な価値
- 将来的には音声対話・表情分析・ゲーミフィケーションなどを取り入れ、よりリッチなコミュニケーション体験を提供

これにより、職場コミュニケーション改善や日常雑談力向上に向けた幅広いユーザーニーズに応えられるアプリケーションが実現可能となります。今後は、実際の利用シーンやフィードバックを踏まえつつ、柔軟に拡張・改良を進めることで、より効果的なコミュニケーション学習プラットフォームを目指していきましょう。​​​​​​​​​​​​​​​​

### 参考資料
- https://www.mhlw.go.jp/file/06-Seisakujouhou-11800000-Shokugyounouryokukaihatsukyoku/0000198686.pdf
- https://www.mhlw.go.jp/file/06-Seisakujouhou-11800000-Shokugyounouryokukaihatsukyoku/0000199570.pdf

